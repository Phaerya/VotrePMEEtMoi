<header
  class="bg-primary shadow-lg border-b border-gray-100 px-6 md:px-12 py-4 sticky top-0 z-50 backdrop-blur-sm bg-primary/95"
>
  <div class="max-w-7xl mx-auto flex items-center justify-between">
    <!-- Logo amélioré -->
    <a href="/" class="flex items-center space-x-3 group">
      <div
        class="w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center group-hover:bg-white/30 transition-all"
      >
        <svg
          class="w-6 h-6 text-white"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 10V3L4 14h7v7l9-11h-7z"></path>
        </svg>
      </div>
      <div class="flex flex-col">
        <span
          class="text-xl font-bold text-white group-hover:text-gray-100 transition-colors"
          >Votre PME et Moi</span
        >
        <span class="text-xs text-gray-200 hidden sm:block"
          >Consultant PME Expert</span
        >
      </div>
    </a>

    <!-- Menu desktop amélioré -->
    <nav class="hidden md:flex items-center space-x-8">
      <a
        href="/"
        class="relative text-white hover:text-gray-200 transition-colors font-medium py-2 px-3 rounded-lg hover:bg-white/10 group"
      >
        Accueil
        <span
          class="absolute bottom-0 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"
        ></span>
      </a>
      <a
        href="/apropos"
        class="relative text-white hover:text-gray-200 transition-colors font-medium py-2 px-3 rounded-lg hover:bg-white/10 group"
      >
        À propos
        <span
          class="absolute bottom-0 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"
        ></span>
      </a>

      <!-- Bouton Contact CTA -->
      <a
        href="/#contact"
        class="bg-white text-primary px-6 py-2 rounded-lg hover:bg-gray-100 transition-all duration-300 font-semibold shadow-md hover:shadow-lg hover:-translate-y-0.5 inline-flex items-center gap-2"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
          ></path>
        </svg>
        Contact
      </a>
    </nav>

    <!-- Hamburger bouton amélioré -->
    <button
      id="menu-toggle"
      class="md:hidden focus:outline-none p-2 rounded-lg hover:bg-white/20 transition-colors"
    >
      <svg
        class="w-6 h-6 text-white"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
  </div>
</header>

<!-- Menu mobile amélioré -->
<div
  id="mobile-menu"
  class="fixed inset-0 bg-white/95 backdrop-blur-md flex flex-col items-center justify-center gap-8 text-xl z-50
         opacity-0 -translate-y-full pointer-events-none transition-all duration-300"
>
  <div class="flex flex-col items-center space-y-6">
    <a
      href="/"
      class="text-gray-700 hover:text-primary transition-colors font-medium px-6 py-3 rounded-lg hover:bg-primary/5"
    >
      Accueil
    </a>
    <a
      href="/apropos"
      class="text-gray-700 hover:text-primary transition-colors font-medium px-6 py-3 rounded-lg hover:bg-primary/5"
    >
      À propos
    </a>
    <a
      href="/mesprestations"
      class="text-gray-700 hover:text-primary transition-colors font-medium px-6 py-3 rounded-lg hover:bg-primary/5"
    >
      Mes prestations
    </a>

    <!-- Bouton Contact mobile -->
    <a
      href="/#contact"
      class="bg-primary text-white px-8 py-3 rounded-lg hover:bg-primary-dark transition-all duration-300 font-semibold shadow-lg inline-flex items-center gap-2"
    >
      <svg
        class="w-5 h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
        ></path>
      </svg>
      Contact
    </a>
  </div>

  <button
    id="menu-close"
    class="mt-8 text-gray-500 hover:text-gray-700 transition-colors font-medium"
  >
    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M6 18L18 6M6 6l12 12"></path>
    </svg>
  </button>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggle = document.getElementById("menu-toggle");
    const close = document.getElementById("menu-close");
    const menu = document.getElementById("mobile-menu");

    // Gestion du menu mobile
    if (menu && toggle) {
      toggle.addEventListener("click", () => {
        menu.classList.remove(
          "opacity-0",
          "-translate-y-full",
          "pointer-events-none",
        );
        menu.classList.add("opacity-100", "translate-y-0");
      });
    }

    if (menu && close) {
      close.addEventListener("click", () => {
        menu.classList.remove("opacity-100", "translate-y-0");
        menu.classList.add(
          "opacity-0",
          "-translate-y-full",
          "pointer-events-none",
        );
      });
    }

    // Gestion du scroll fluide vers la section contact
    function handleContactLinks() {
      const contactLinks = document.querySelectorAll('a[href="/#contact"]');

      contactLinks.forEach((link) => {
        link.addEventListener("click", function (e) {
          e.preventDefault();

          // Si on est déjà sur la page d'accueil
          if (
            window.location.pathname === "/" ||
            window.location.pathname === "/index.html"
          ) {
            const contactSection = document.getElementById("contact");
            if (contactSection) {
              contactSection.scrollIntoView({
                behavior: "smooth",
                block: "start",
              });
            }
          } else {
            // Si on est sur une autre page, rediriger vers l'accueil avec l'ancre
            window.location.href = "/#contact";
          }

          // Fermer le menu mobile si ouvert
          if (menu) {
            menu.classList.remove("opacity-100", "translate-y-0");
            menu.classList.add(
              "opacity-0",
              "-translate-y-full",
              "pointer-events-none",
            );
          }
        });
      });
    }

    // Initialiser les liens de contact
    handleContactLinks();

    // Gestion du scroll pour la page d'accueil si on arrive avec #contact
    if (
      window.location.hash === "#contact" &&
      (window.location.pathname === "/" ||
        window.location.pathname === "/index.html")
    ) {
      setTimeout(() => {
        const contactSection = document.getElementById("contact");
        if (contactSection) {
          contactSection.scrollIntoView({
            behavior: "smooth",
            block: "start",
          });
        }
      }, 100);
    }
  });
</script>
